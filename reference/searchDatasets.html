<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dataset search — searchDatasets • gemma.R</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Dataset search — searchDatasets"><meta property="og:description" content="Does a search for datasets containing annotations, short name or full
name matching the given string"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=TODO"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'TODO');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gemma.R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/gemma.R.html">gemma.R: an R Wrapper for the Gemma API</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PavlidisLab/gemma.R/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Dataset search</h1>
    <small class="dont-index">Source: <a href="https://github.com/PavlidisLab/gemma.R/blob/HEAD/R/allEndpoints.R" class="external-link"><code>R/allEndpoints.R</code></a></small>
    <div class="hidden name"><code>searchDatasets.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Does a search for datasets containing annotations, short name or full
name matching the given string</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">searchDatasets</span><span class="op">(</span>
  query <span class="op">=</span> <span class="cn">NA_character_</span>,
  taxon <span class="op">=</span> <span class="cn">NA_character_</span>,
  filter <span class="op">=</span> <span class="cn">NA_character_</span>,
  offset <span class="op">=</span> <span class="fl">0L</span>,
  limit <span class="op">=</span> <span class="fl">20L</span>,
  sort <span class="op">=</span> <span class="st">"+id"</span>,
  raw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"gemma.raw"</span>, <span class="cn">FALSE</span><span class="op">)</span>,
  async <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"gemma.async"</span>, <span class="cn">FALSE</span><span class="op">)</span>,
  memoised <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"gemma.memoise"</span>, <span class="cn">FALSE</span><span class="op">)</span>,
  file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"gemma.file"</span>, <span class="cn">NA_character_</span><span class="op">)</span>,
  overwrite <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"gemma.overwrite"</span>, <span class="cn">FALSE</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>query</dt>
<dd><p>Required, defaults to <code>empty</code>.
The search query. Either plain text ('traumatic'), or an ontology term
URI ('http://purl.obolibrary.org/obo/UBERON_0002048'). Datasets that
contain the given string in their short of full name will also be
matched ('GSE201', 'Bronchoalveolar lavage samples'.
Can be multiple identifiers separated by commas.
When
using in scripts, remember to URL-encode any forward slashes in the
phenotype value URIs (see the compiled URL below).</p></dd>
<dt>taxon</dt>
<dd><p>Not required, part of the URL path.
can either be Taxon ID, Taxon NCBI ID, or one of its string identifiers:
scientific name, common name
It is recommended to use Taxon ID for efficiency.
Please note, that not all taxa have all the possible identifiers
available.
Use the 'All Taxa' endpoint to retrieve the necessary information. For
convenience, below is a list of officially supported taxa:
ID   Comm.name   Scient.name                NcbiID</p>
<p>1    human       Homo sapiens               9606
2    mouse       Mus musculus               10090
3    rat         Rattus norvegicus          10116
11   yeast       Saccharomyces cerevisiae   4932
12   zebrafish   Danio rerio                7955
13   fly         Drosophila melanogaster    7227
14   worm        Caenorhabditis elegans     6239</p></dd>
<dt>filter</dt>
<dd><p>Optional, defaults to <code>empty</code>.
Filtering can be done on any* property or nested property that the
appropriate object class defines or inherits (and that is mapped by
hibernate). [These do not correspond to the properties of the objects
returned by the API calls.].description-imp
Class definitions:</p><ul><li><p>Datasets:
<a href="http://gemma.msl.ubc.ca/resources/apidocs/ubic/gemma/model/expression/experiment/ExpressionExperiment.html" class="external-link">javaDoc</a>     <a href="https://github.com/ppavlidis/Gemma/blob/development/gemma-core/src/main/java/ubic/gemma/model/expression/experiment/ExpressionExperiment.java" class="external-link">gitHub</a></p></li>
<li><p>Platforms:
<a href="http://gemma.msl.ubc.ca/resources/apidocs/ubic/gemma/model/expression/arrayDesign/ArrayDesign.html" class="external-link">javaDoc</a>     <a href="https://github.com/ppavlidis/Gemma/blob/development/gemma-core/src/main/java/ubic/gemma/model/expression/arrayDesign/ArrayDesign.java" class="external-link">gitHub</a>
E.g: <code>curationDetails</code> or <code>curationDetails.lastTroubledEvent.date</code>.</p></li>
</ul><ul><li><p>Any property of a supported type. Currently supported types are:</p></li>
</ul><ul><li><p>String - property of String type, required value can be any String.</p></li>
<li><p>Number - any Number implementation. Required value must be a string
parseable to the specific Number type.</p></li>
<li><p>Boolean - required value will be parsed to true only if the string
matches 'true', ignoring case.
Accepted operator keywords are:</p></li>
<li><p>'=' - equality</p></li>
<li><p>'!=' - non-equality</p></li>
<li><p>'&lt;' - smaller than</p></li>
<li><p>'&gt;' - larger than</p></li>
<li><p>'&lt;=' - smaller or equal</p></li>
<li><p>'=&gt;' - larger or equal</p></li>
<li><p>'like' - similar string, effectively means 'contains',
translates to the sql 'LIKE' operator (given value will be
surrounded by % signs)
Multiple filters can be chained using <code>AND</code> and <code>OR</code> keywords.
Leave space between the keywords and the previous/next word!
E.g: <code>?filter=property1 &lt; value1 AND property2 like value2</code>
If chained filters are mixed conjunctions and disjunctions, the query
must be in conjunctive normal form (CNF). Parentheses are not necessary</p></li>
<li><p>every AND keyword separates blocks of disjunctions.
Example:
<code>?filter=p1 = v1 OR p1 != v2 AND p2 &lt;= v2 AND p3 &gt; v3 OR p3 &lt; v4</code>
Above query will translate to:
<code>(p1 = v1 OR p1 != v2) AND (p2 &lt;= v2) AND (p3 &gt; v3 OR p3 &lt; v4;)</code>
Breaking the CNF results in an error.
Filter <code>curationDetails.troubled</code> will be ignored if user is not an
administrator.</p></li>
</ul></dd>
<dt>offset</dt>
<dd><p>Optional, defaults to <code>0</code>.
Skips the specified amount of objects when retrieving them from the
database.</p></dd>
<dt>limit</dt>
<dd><p>Optional, defaults to <code>20</code>.
Limits the result to specified amount of objects. Use 0 for no limit.</p></dd>
<dt>sort</dt>
<dd><p>Optional, defaults to <code>+id</code>.
Sets the ordering property and direction.
Format is <code>[+,-][property name]</code>. E.g. <code>-accession</code> will translate to
descending ordering by the 'Accession' property.
Note that this does [not guarantee the order of the returned
entities!].description-imp This is merely a signal to how the data
should be pre-sorted before the limit and offset are applied.
Nested properties are also supported (recursively).
E.g: <code>+curationDetails.lastTroubledEvent.date</code>
When
using in scripts, remember to URL-encode the '+' plus character (see
the compiled URL below).</p></dd>
<dt>raw</dt>
<dd><p><code>TRUE</code> to receive results as-is from Gemma, or <code>FALSE</code> to enable
parsing.</p></dd>
<dt>async</dt>
<dd><p><code>TRUE</code> to run the API query on a separate worker, or <code>FALSE</code> to run
synchronously. See the <code>async</code> package for details.</p></dd>
<dt>memoised</dt>
<dd><p>Whether or not to cache results so future requests for the same data
will be faster. Use <code>forgetGemmaMemoised</code> to clear the cache.</p></dd>
<dt>file</dt>
<dd><p>The name of a file to save the results to, or <code>NULL</code> to not write
results to a file. If <code>raw == TRUE</code>, the output will be a JSON file.
Otherwise, it will be a RDS file.</p></dd>
<dt>overwrite</dt>
<dd><p>Whether or not to overwrite if a file exists at the specified filename.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An array of datasets (expression experiment value objects) that are
annotated with the given ontology terms, or, in case of plaintext query,
experiments that contain the given words (name, short name, accession,
tags)
If an ontology term URI is given, the results will also include datasets
that are associated with the descendants of the term.
The search only only checks the annotations value, not the category
(which is also an ontology term).</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">searchDatasets</span><span class="op">(</span><span class="st">"bipolar"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Classes ‘data.table’ and 'data.frame':	20 obs. of  18 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.ShortName       : chr  "GSE5389" "GSE4030" "GSE5388" "GSE7036" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Name            : chr  "Adult postmortem brain tissue (orbitofrontal cortex) from subjects with bipolar disorder and healthy controls" "bunge-affy-arabi-162779" "Adult postmortem brain tissue (dorsolateral prefrontal cortex) from subjects with bipolar disorder and healthy controls" "Expression profiling in monozygotic twins discordant for bipolar disorder" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.ID              : int  326 348 594 660 670 672 700 831 833 834 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Public          : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Troubled        : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Accession       : chr  "GSE5389" "GSE4030" "GSE5388" "GSE7036" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Database        : chr  "GEO" "GEO" "GEO" "GEO" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.URL             : chr  "http://www.ncbi.nlm.nih.gov/geo/" "http://www.ncbi.nlm.nih.gov/geo/" "http://www.ncbi.nlm.nih.gov/geo/" "http://www.ncbi.nlm.nih.gov/geo/" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Samples         : int  21 8 61 6 23 66 8 50 102 47 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.LastUpdated     : POSIXct, format: "2021-09-18 07:31:21" "2021-09-18 07:31:26" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Batch.P         : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ee.Batch.PC        : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ geeq.batchCorrected: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ geeq.qScore        : num  0.852 0.426 0.853 0.712 0.282 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ geeq.sScore        : num  0.875 0.838 0.625 0.838 0.25 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ taxon.Name         : chr  "human" "human" "human" "human" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ taxon.ID           : int  1 1 1 1 1 1 3 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ technology.Type    : logi  NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jordan Sicherman, Ogan Mancarci, Javier Castillo-Arnemann.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

